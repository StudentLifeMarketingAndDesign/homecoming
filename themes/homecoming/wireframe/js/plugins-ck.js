//@codekit-append "plugins/jquery.flexslider-min.js"
//@codekit-append "plugins/jquery.colorbox-min.js"
/* **********************************************
     Begin jquery.flexslider-min.js
********************************************** *//*
 * jQuery FlexSlider v2.1
 * Copyright 2012 WooThemes
 * Contributing Author: Tyler Smith
 */(function(e){e.flexslider=function(t,n){var r=e(t),i=e.extend({},e.flexslider.defaults,n),s=i.namespace,o="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,u=o?"touchend":"click",a="vertical"===i.direction,f=i.reverse,l=0<i.itemWidth,c="fade"===i.animation,h=""!==i.asNavFor,p={};e.data(t,"flexslider",r);p={init:function(){r.animating=!1;r.currentSlide=i.startAt;r.animatingTo=r.currentSlide;r.atEnd=0===r.currentSlide||r.currentSlide===r.last;r.containerSelector=i.selector.substr(0,i.selector.search(" "));r.slides=e(i.selector,r);r.container=e(r.containerSelector,r);r.count=r.slides.length;r.syncExists=0<e(i.sync).length;"slide"===i.animation&&(i.animation="swing");r.prop=a?"top":"marginLeft";r.args={};r.manualPause=!1;var t=r,n;if(n=!i.video)if(n=!c)if(n=i.useCSS)e:{n=document.createElement("div");var s=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"],u;for(u in s)if(void 0!==n.style[s[u]]){r.pfx=s[u].replace("Perspective","").toLowerCase();r.prop="-"+r.pfx+"-transform";n=!0;break e}n=!1}t.transitions=n;""!==i.controlsContainer&&(r.controlsContainer=0<e(i.controlsContainer).length&&e(i.controlsContainer));""!==i.manualControls&&(r.manualControls=0<e(i.manualControls).length&&e(i.manualControls));i.randomize&&(r.slides.sort(function(){return Math.round(Math.random())-.5}),r.container.empty().append(r.slides));r.doMath();h&&p.asNav.setup();r.setup("init");i.controlNav&&p.controlNav.setup();i.directionNav&&p.directionNav.setup();i.keyboard&&(1===e(r.containerSelector).length||i.multipleKeyboard)&&e(document).bind("keyup",function(e){e=e.keyCode;!r.animating&&(39===e||37===e)&&(e=39===e?r.getTarget("next"):37===e?r.getTarget("prev"):!1,r.flexAnimate(e,i.pauseOnAction))});i.mousewheel&&r.bind("mousewheel",function(e,t){e.preventDefault();var n=0>t?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(n,i.pauseOnAction)});i.pausePlay&&p.pausePlay.setup();i.slideshow&&(i.pauseOnHover&&r.hover(function(){!r.manualPlay&&!r.manualPause&&r.pause()},function(){!r.manualPause&&!r.manualPlay&&r.play()}),0<i.initDelay?setTimeout(r.play,i.initDelay):r.play());o&&i.touch&&p.touch();(!c||c&&i.smoothHeight)&&e(window).bind("resize focus",p.resize);setTimeout(function(){i.start(r)},200)},asNav:{setup:function(){r.asNav=!0;r.animatingTo=Math.floor(r.currentSlide/r.move);r.currentItem=r.currentSlide;r.slides.removeClass(s+"active-slide").eq(r.currentItem).addClass(s+"active-slide");r.slides.click(function(t){t.preventDefault();var t=e(this),n=t.index();!e(i.asNavFor).data("flexslider").animating&&!t.hasClass("active")&&(r.direction=r.currentItem<n?"next":"prev",r.flexAnimate(n,i.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){r.manualControls?p.controlNav.setupManual():p.controlNav.setupPaging()},setupPaging:function(){var t=1,n;r.controlNavScaffold=e('<ol class="'+s+"control-nav "+s+("thumbnails"===i.controlNav?"control-thumbs":"control-paging")+'"></ol>');if(1<r.pagingCount)for(var a=0;a<r.pagingCount;a++)n="thumbnails"===i.controlNav?'<img src="'+r.slides.eq(a).attr("data-thumb")+'"/>':"<a>"+t+"</a>",r.controlNavScaffold.append("<li>"+n+"</li>"),t++;r.controlsContainer?e(r.controlsContainer).append(r.controlNavScaffold):r.append(r.controlNavScaffold);p.controlNav.set();p.controlNav.active();r.controlNavScaffold.delegate("a, img",u,function(t){t.preventDefault();var t=e(this),n=r.controlNav.index(t);t.hasClass(s+"active")||(r.direction=n>r.currentSlide?"next":"prev",r.flexAnimate(n,i.pauseOnAction))});o&&r.controlNavScaffold.delegate("a","click touchstart",function(e){e.preventDefault()})},setupManual:function(){r.controlNav=r.manualControls;p.controlNav.active();r.controlNav.live(u,function(t){t.preventDefault();var t=e(this),n=r.controlNav.index(t);t.hasClass(s+"active")||(n>r.currentSlide?r.direction="next":r.direction="prev",r.flexAnimate(n,i.pauseOnAction))});o&&r.controlNav.live("click touchstart",function(e){e.preventDefault()})},set:function(){r.controlNav=e("."+s+"control-nav li "+("thumbnails"===i.controlNav?"img":"a"),r.controlsContainer?r.controlsContainer:r)},active:function(){r.controlNav.removeClass(s+"active").eq(r.animatingTo).addClass(s+"active")},update:function(t,n){1<r.pagingCount&&"add"===t?r.controlNavScaffold.append(e("<li><a>"+r.count+"</a></li>")):1===r.pagingCount?r.controlNavScaffold.find("li").remove():r.controlNav.eq(n).closest("li").remove();p.controlNav.set();1<r.pagingCount&&r.pagingCount!==r.controlNav.length?r.update(n,t):p.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+s+'direction-nav"><li><a class="'+s+'prev" href="#">'+i.prevText+'</a></li><li><a class="'+s+'next" href="#">'+i.nextText+"</a></li></ul>");r.controlsContainer?(e(r.controlsContainer).append(t),r.directionNav=e("."+s+"direction-nav li a",r.controlsContainer)):(r.append(t),r.directionNav=e("."+s+"direction-nav li a",r));p.directionNav.update();r.directionNav.bind(u,function(t){t.preventDefault();t=e(this).hasClass(s+"next")?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(t,i.pauseOnAction)});o&&r.directionNav.bind("click touchstart",function(e){e.preventDefault()})},update:function(){var e=s+"disabled";1===r.pagingCount?r.directionNav.addClass(e):i.animationLoop?r.directionNav.removeClass(e):0===r.animatingTo?r.directionNav.removeClass(e).filter("."+s+"prev").addClass(e):r.animatingTo===r.last?r.directionNav.removeClass(e).filter("."+s+"next").addClass(e):r.directionNav.removeClass(e)}},pausePlay:{setup:function(){var t=e('<div class="'+s+'pauseplay"><a></a></div>');r.controlsContainer?(r.controlsContainer.append(t),r.pausePlay=e("."+s+"pauseplay a",r.controlsContainer)):(r.append(t),r.pausePlay=e("."+s+"pauseplay a",r));p.pausePlay.update(i.slideshow?s+"pause":s+"play");r.pausePlay.bind(u,function(t){t.preventDefault();e(this).hasClass(s+"pause")?(r.manualPause=!0,r.manualPlay=!1,r.pause()):(r.manualPause=!1,r.manualPlay=!0,r.play())});o&&r.pausePlay.bind("click touchstart",function(e){e.preventDefault()})},update:function(e){"play"===e?r.pausePlay.removeClass(s+"pause").addClass(s+"play").text(i.playText):r.pausePlay.removeClass(s+"play").addClass(s+"pause").text(i.pauseText)}},touch:function(){function e(e){p=a?s-e.touches[0].pageY:s-e.touches[0].pageX;v=a?Math.abs(p)<Math.abs(e.touches[0].pageX-o):Math.abs(p)<Math.abs(e.touches[0].pageY-o);if(!v||500<Number(new Date)-d)e.preventDefault(),!c&&r.transitions&&(i.animationLoop||(p/=0===r.currentSlide&&0>p||r.currentSlide===r.last&&0<p?Math.abs(p)/h+2:1),r.setProps(u+p,"setTouch"))}function n(){t.removeEventListener("touchmove",e,!1);if(r.animatingTo===r.currentSlide&&!v&&null!==p){var a=f?-p:p,l=0<a?r.getTarget("next"):r.getTarget("prev");r.canAdvance(l)&&(550>Number(new Date)-d&&50<Math.abs(a)||Math.abs(a)>h/2)?r.flexAnimate(l,i.pauseOnAction):c||r.flexAnimate(r.currentSlide,i.pauseOnAction,!0)}t.removeEventListener("touchend",n,!1);u=p=o=s=null}var s,o,u,h,p,d,v=!1;t.addEventListener("touchstart",function(c){r.animating?c.preventDefault():1===c.touches.length&&(r.pause(),h=a?r.h:r.w,d=Number(new Date),u=l&&f&&r.animatingTo===r.last?0:l&&f?r.limit-(r.itemW+i.itemMargin)*r.move*r.animatingTo:l&&r.currentSlide===r.last?r.limit:l?(r.itemW+i.itemMargin)*r.move*r.currentSlide:f?(r.last-r.currentSlide+r.cloneOffset)*h:(r.currentSlide+r.cloneOffset)*h,s=a?c.touches[0].pageY:c.touches[0].pageX,o=a?c.touches[0].pageX:c.touches[0].pageY,t.addEventListener("touchmove",e,!1),t.addEventListener("touchend",n,!1))},!1)},resize:function(){!r.animating&&r.is(":visible")&&(l||r.doMath(),c?p.smoothHeight():l?(r.slides.width(r.computedW),r.update(r.pagingCount),r.setProps()):a?(r.viewport.height(r.h),r.setProps(r.h,"setTotal")):(i.smoothHeight&&p.smoothHeight(),r.newSlides.width(r.computedW),r.setProps(r.computedW,"setTotal")))},smoothHeight:function(e){if(!a||c){var t=c?r:r.viewport;e?t.animate({height:r.slides.eq(r.animatingTo).height()},e):t.height(r.slides.eq(r.animatingTo).height())}},sync:function(t){var n=e(i.sync).data("flexslider"),s=r.animatingTo;switch(t){case"animate":n.flexAnimate(s,i.pauseOnAction,!1,!0);break;case"play":!n.playing&&!n.asNav&&n.play();break;case"pause":n.pause()}}};r.flexAnimate=function(t,n,u,v,g){h&&1===r.pagingCount&&(r.direction=r.currentItem<t?"next":"prev");if(!r.animating&&(r.canAdvance(t,g)||u)&&r.is(":visible")){if(h&&v){if(u=e(i.asNavFor).data("flexslider"),r.atEnd=0===t||t===r.count-1,u.flexAnimate(t,!0,!1,!0,g),r.direction=r.currentItem<t?"next":"prev",u.direction=r.direction,Math.ceil((t+1)/r.visible)-1===r.currentSlide||0===t)return r.currentItem=t,r.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),!1;r.currentItem=t,r.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),t=Math.floor(t/r.visible)}r.animating=!0;r.animatingTo=t;i.before(r);n&&r.pause();r.syncExists&&!g&&p.sync("animate");i.controlNav&&p.controlNav.active();l||r.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide");r.atEnd=0===t||t===r.last;i.directionNav&&p.directionNav.update();t===r.last&&(i.end(r),i.animationLoop||r.pause());if(c)o?(r.slides.eq(r.currentSlide).css({opacity:0,zIndex:1}),r.slides.eq(t).css({opacity:1,zIndex:2}),r.slides.unbind("webkitTransitionEnd transitionend"),r.slides.eq(r.currentSlide).bind("webkitTransitionEnd transitionend",function(){i.after(r)}),r.animating=!1,r.currentSlide=r.animatingTo):(r.slides.eq(r.currentSlide).fadeOut(i.animationSpeed,i.easing),r.slides.eq(t).fadeIn(i.animationSpeed,i.easing,r.wrapup));else{var y=a?r.slides.filter(":first").height():r.computedW;l?(t=i.itemWidth>r.w?2*i.itemMargin:i.itemMargin,t=(r.itemW+t)*r.move*r.animatingTo,t=t>r.limit&&1!==r.visible?r.limit:t):t=0===r.currentSlide&&t===r.count-1&&i.animationLoop&&"next"!==r.direction?f?(r.count+r.cloneOffset)*y:0:r.currentSlide===r.last&&0===t&&i.animationLoop&&"prev"!==r.direction?f?0:(r.count+1)*y:f?(r.count-1-t+r.cloneOffset)*y:(t+r.cloneOffset)*y;r.setProps(t,"",i.animationSpeed);if(r.transitions){if(!i.animationLoop||!r.atEnd)r.animating=!1,r.currentSlide=r.animatingTo;r.container.unbind("webkitTransitionEnd transitionend");r.container.bind("webkitTransitionEnd transitionend",function(){r.wrapup(y)})}else r.container.animate(r.args,i.animationSpeed,i.easing,function(){r.wrapup(y)})}i.smoothHeight&&p.smoothHeight(i.animationSpeed)}};r.wrapup=function(e){!c&&!l&&(0===r.currentSlide&&r.animatingTo===r.last&&i.animationLoop?r.setProps(e,"jumpEnd"):r.currentSlide===r.last&&0===r.animatingTo&&i.animationLoop&&r.setProps(e,"jumpStart"));r.animating=!1;r.currentSlide=r.animatingTo;i.after(r)};r.animateSlides=function(){r.animating||r.flexAnimate(r.getTarget("next"))};r.pause=function(){clearInterval(r.animatedSlides);r.playing=!1;i.pausePlay&&p.pausePlay.update("play");r.syncExists&&p.sync("pause")};r.play=function(){r.animatedSlides=setInterval(r.animateSlides,i.slideshowSpeed);r.playing=!0;i.pausePlay&&p.pausePlay.update("pause");r.syncExists&&p.sync("play")};r.canAdvance=function(e,t){var n=h?r.pagingCount-1:r.last;return t?!0:h&&r.currentItem===r.count-1&&0===e&&"prev"===r.direction?!0:h&&0===r.currentItem&&e===r.pagingCount-1&&"next"!==r.direction?!1:e===r.currentSlide&&!h?!1:i.animationLoop?!0:r.atEnd&&0===r.currentSlide&&e===n&&"next"!==r.direction?!1:r.atEnd&&r.currentSlide===n&&0===e&&"next"===r.direction?!1:!0};r.getTarget=function(e){r.direction=e;return"next"===e?r.currentSlide===r.last?0:r.currentSlide+1:0===r.currentSlide?r.last:r.currentSlide-1};r.setProps=function(e,t,n){var s,o=e?e:(r.itemW+i.itemMargin)*r.move*r.animatingTo;s=-1*function(){if(l)return"setTouch"===t?e:f&&r.animatingTo===r.last?0:f?r.limit-(r.itemW+i.itemMargin)*r.move*r.animatingTo:r.animatingTo===r.last?r.limit:o;switch(t){case"setTotal":return f?(r.count-1-r.currentSlide+r.cloneOffset)*e:(r.currentSlide+r.cloneOffset)*e;case"setTouch":return e;case"jumpEnd":return f?e:r.count*e;case"jumpStart":return f?r.count*e:e;default:return e}}()+"px";r.transitions&&(s=a?"translate3d(0,"+s+",0)":"translate3d("+s+",0,0)",n=void 0!==n?n/1e3+"s":"0s",r.container.css("-"+r.pfx+"-transition-duration",n));r.args[r.prop]=s;(r.transitions||void 0===n)&&r.container.css(r.args)};r.setup=function(t){if(c)r.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(o?r.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.animationSpeed/1e3+"s ease",zIndex:1}).eq(r.currentSlide).css({opacity:1,zIndex:2}):r.slides.eq(r.currentSlide).fadeIn(i.animationSpeed,i.easing)),i.smoothHeight&&p.smoothHeight();else{var n,u;"init"===t&&(r.viewport=e('<div class="'+s+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(r).append(r.container),r.cloneCount=0,r.cloneOffset=0,f&&(u=e.makeArray(r.slides).reverse(),r.slides=e(u),r.container.empty().append(r.slides)));i.animationLoop&&!l&&(r.cloneCount=2,r.cloneOffset=1,"init"!==t&&r.container.find(".clone").remove(),r.container.append(r.slides.first().clone().addClass("clone")).prepend(r.slides.last().clone().addClass("clone")));r.newSlides=e(i.selector,r);n=f?r.count-1-r.currentSlide+r.cloneOffset:r.currentSlide+r.cloneOffset;a&&!l?(r.container.height(200*(r.count+r.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){r.newSlides.css({display:"block"});r.doMath();r.viewport.height(r.h);r.setProps(n*r.h,"init")},"init"===t?100:0)):(r.container.width(200*(r.count+r.cloneCount)+"%"),r.setProps(n*r.computedW,"init"),setTimeout(function(){r.doMath();r.newSlides.css({width:r.computedW,"float":"left",display:"block"});i.smoothHeight&&p.smoothHeight()},"init"===t?100:0))}l||r.slides.removeClass(s+"active-slide").eq(r.currentSlide).addClass(s+"active-slide")};r.doMath=function(){var e=r.slides.first(),t=i.itemMargin,n=i.minItems,s=i.maxItems;r.w=r.width();r.h=e.height();r.boxPadding=e.outerWidth()-e.width();l?(r.itemT=i.itemWidth+t,r.minW=n?n*r.itemT:r.w,r.maxW=s?s*r.itemT:r.w,r.itemW=r.minW>r.w?(r.w-t*n)/n:r.maxW<r.w?(r.w-t*s)/s:i.itemWidth>r.w?r.w:i.itemWidth,r.visible=Math.floor(r.w/(r.itemW+t)),r.move=0<i.move&&i.move<r.visible?i.move:r.visible,r.pagingCount=Math.ceil((r.count-r.visible)/r.move+1),r.last=r.pagingCount-1,r.limit=1===r.pagingCount?0:i.itemWidth>r.w?(r.itemW+2*t)*r.count-r.w-t:(r.itemW+t)*r.count-r.w-t):(r.itemW=r.w,r.pagingCount=r.count,r.last=r.count-1);r.computedW=r.itemW-r.boxPadding};r.update=function(e,t){r.doMath();l||(e<r.currentSlide?r.currentSlide+=1:e<=r.currentSlide&&0!==e&&(r.currentSlide-=1),r.animatingTo=r.currentSlide);if(i.controlNav&&!r.manualControls)if("add"===t&&!l||r.pagingCount>r.controlNav.length)p.controlNav.update("add");else if("remove"===t&&!l||r.pagingCount<r.controlNav.length)l&&r.currentSlide>r.last&&(r.currentSlide-=1,r.animatingTo-=1),p.controlNav.update("remove",r.last);i.directionNav&&p.directionNav.update()};r.addSlide=function(t,n){var s=e(t);r.count+=1;r.last=r.count-1;a&&f?void 0!==n?r.slides.eq(r.count-n).after(s):r.container.prepend(s):void 0!==n?r.slides.eq(n).before(s):r.container.append(s);r.update(n,"add");r.slides=e(i.selector+":not(.clone)",r);r.setup();i.added(r)};r.removeSlide=function(t){var n=isNaN(t)?r.slides.index(e(t)):t;r.count-=1;r.last=r.count-1;isNaN(t)?e(t,r.slides).remove():a&&f?r.slides.eq(r.last).remove():r.slides.eq(t).remove();r.doMath();r.update(n,"remove");r.slides=e(i.selector+":not(.clone)",r);r.setup();i.removed(r)};p.init()};e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}};e.fn.flexslider=function(t){void 0===t&&(t={});if("object"==typeof t)return this.each(function(){var n=e(this),r=n.find(t.selector?t.selector:".slides > li");1===r.length?(r.fadeIn(400),t.start&&t.start(n)):void 0==n.data("flexslider")&&new e.flexslider(this,t)});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:"number"==typeof t&&n.flexAnimate(t,!0)}}})(jQuery);(function(e,t,n){function r(n,r,i){var s=t.createElement(n);return r&&(s.id=Z+r),i&&(s.style.cssText=i),e(s)}function i(){return n.innerHeight?n.innerHeight:e(n).height()}function s(e){var t=T.length,n=(U+e)%t;return 0>n?t+n:n}function o(e,t){return Math.round((/%/.test(e)?("x"===t?N.width():i())/100:1)*parseInt(e,10))}function u(e,t){return e.photo||e.photoRegex.test(t)}function a(e,t){return e.retinaUrl&&n.devicePixelRatio>1?t.replace(e.photoRegex,e.retinaSuffix):t}function f(e){"contains"in g[0]&&!g[0].contains(e.target)&&(e.stopPropagation(),g.focus())}function l(){var t,n=e.data(R,Y);null==n?(B=e.extend({},G),console&&console.log&&console.log("Error: cboxElement missing settings object")):B=e.extend({},n);for(t in B)e.isFunction(B[t])&&"on"!==t.slice(0,2)&&(B[t]=B[t].call(R));B.rel=B.rel||R.rel||e(R).data("rel")||"nofollow",B.href=B.href||e(R).attr("href"),B.title=B.title||R.title,"string"==typeof B.href&&(B.href=e.trim(B.href))}function c(n,r){e(t).trigger(n),ut.triggerHandler(n),e.isFunction(r)&&r.call(R)}function h(n){V||(R=n,l(),T=e(R),U=0,"nofollow"!==B.rel&&(T=e("."+et).filter(function(){var t,n=e.data(this,Y);return n&&(t=e(this).data("rel")||n.rel||this.rel),t===B.rel}),U=T.index(R),-1===U&&(T=T.add(R),U=T.length-1)),m.css({opacity:parseFloat(B.opacity),cursor:B.overlayClose?"pointer":"auto",visibility:"visible"}).show(),K&&g.add(m).removeClass(K),B.className&&g.add(m).addClass(B.className),K=B.className,B.closeButton?P.html(B.close).appendTo(b):P.appendTo("<div/>"),W||(W=X=!0,g.css({visibility:"hidden",display:"block"}),C=r(at,"LoadedContent","width:0; height:0; overflow:hidden"),b.css({width:"",height:""}).append(C),j=w.height()+x.height()+b.outerHeight(!0)-b.height(),F=E.width()+S.width()+b.outerWidth(!0)-b.width(),I=C.outerHeight(!0),q=C.outerWidth(!0),B.w=o(B.initialWidth,"x"),B.h=o(B.initialHeight,"y"),C.css({width:"",height:B.h}),J.position(),c(tt,B.onOpen),H.add(A).hide(),g.focus(),B.trapFocus&&t.addEventListener&&(t.addEventListener("focus",f,!0),ut.one(st,function(){t.removeEventListener("focus",f,!0)})),B.returnFocus&&ut.one(st,function(){e(R).focus()})),v())}function p(){!g&&t.body&&(Q=!1,N=e(n),g=r(at).attr({id:Y,"class":e.support.opacity===!1?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),m=r(at,"Overlay").hide(),L=e([r(at,"LoadingOverlay")[0],r(at,"LoadingGraphic")[0]]),y=r(at,"Wrapper"),b=r(at,"Content").append(A=r(at,"Title"),O=r(at,"Current"),D=e('<button type="button"/>').attr({id:Z+"Previous"}),_=e('<button type="button"/>').attr({id:Z+"Next"}),M=r("button","Slideshow"),L),P=e('<button type="button"/>').attr({id:Z+"Close"}),y.append(r(at).append(r(at,"TopLeft"),w=r(at,"TopCenter"),r(at,"TopRight")),r(at,!1,"clear:left").append(E=r(at,"MiddleLeft"),b,S=r(at,"MiddleRight")),r(at,!1,"clear:left").append(r(at,"BottomLeft"),x=r(at,"BottomCenter"),r(at,"BottomRight"))).find("div div").css({"float":"left"}),k=r(at,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),H=_.add(D).add(O).add(M),e(t.body).append(m,g.append(y,k)))}function d(){function n(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),h(this))}return g?(Q||(Q=!0,_.click(function(){J.next()}),D.click(function(){J.prev()}),P.click(function(){J.close()}),m.click(function(){B.overlayClose&&J.close()}),e(t).bind("keydown."+Z,function(e){var t=e.keyCode;W&&B.escKey&&27===t&&(e.preventDefault(),J.close()),W&&B.arrowKey&&T[1]&&!e.altKey&&(37===t?(e.preventDefault(),D.click()):39===t&&(e.preventDefault(),_.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+Z,"."+et,n):e("."+et).live("click."+Z,n)),!0):!1}function v(){var i,s,f,h=J.prep,p=++ft;X=!0,z=!1,R=T[U],l(),c(ot),c(nt,B.onLoad),B.h=B.height?o(B.height,"y")-I-j:B.innerHeight&&o(B.innerHeight,"y"),B.w=B.width?o(B.width,"x")-q-F:B.innerWidth&&o(B.innerWidth,"x"),B.mw=B.w,B.mh=B.h,B.maxWidth&&(B.mw=o(B.maxWidth,"x")-q-F,B.mw=B.w&&B.w<B.mw?B.w:B.mw),B.maxHeight&&(B.mh=o(B.maxHeight,"y")-I-j,B.mh=B.h&&B.h<B.mh?B.h:B.mh),i=B.href,$=setTimeout(function(){L.show()},100),B.inline?(f=r(at).hide().insertBefore(e(i)[0]),ut.one(ot,function(){f.replaceWith(C.children())}),h(e(i))):B.iframe?h(" "):B.html?h(B.html):u(B,i)?(i=a(B,i),z=t.createElement("img"),e(z).addClass(Z+"Photo").bind("error",function(){B.title=!1,h(r(at,"Error").html(B.imgError))}).one("load",function(){var t;p===ft&&(e.each(["alt","longdesc","aria-describedby"],function(t,n){var r=e(R).attr(n)||e(R).attr("data-"+n);r&&z.setAttribute(n,r)}),B.retinaImage&&n.devicePixelRatio>1&&(z.height=z.height/n.devicePixelRatio,z.width=z.width/n.devicePixelRatio),B.scalePhotos&&(s=function(){z.height-=z.height*t,z.width-=z.width*t},B.mw&&z.width>B.mw&&(t=(z.width-B.mw)/z.width,s()),B.mh&&z.height>B.mh&&(t=(z.height-B.mh)/z.height,s())),B.h&&(z.style.marginTop=Math.max(B.mh-z.height,0)/2+"px"),T[1]&&(B.loop||T[U+1])&&(z.style.cursor="pointer",z.onclick=function(){J.next()}),z.style.width=z.width+"px",z.style.height=z.height+"px",setTimeout(function(){h(z)},1))}),setTimeout(function(){z.src=i},1)):i&&k.load(i,B.data,function(t,n){p===ft&&h("error"===n?r(at,"Error").html(B.xhrError):e(this).contents())})}var m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1},Y="colorbox",Z="cbox",et=Z+"Element",tt=Z+"_open",nt=Z+"_load",rt=Z+"_complete",it=Z+"_cleanup",st=Z+"_closed",ot=Z+"_purge",ut=e("<a/>"),at="div",ft=0,lt={},ct=function(){function e(){clearTimeout(o)}function t(){(B.loop||T[U+1])&&(e(),o=setTimeout(J.next,B.slideshowSpeed))}function n(){M.html(B.slideshowStop).unbind(a).one(a,r),ut.bind(rt,t).bind(nt,e),g.removeClass(u+"off").addClass(u+"on")}function r(){e(),ut.unbind(rt,t).unbind(nt,e),M.html(B.slideshowStart).unbind(a).one(a,function(){J.next(),n()}),g.removeClass(u+"on").addClass(u+"off")}function i(){s=!1,M.hide(),e(),ut.unbind(rt,t).unbind(nt,e),g.removeClass(u+"off "+u+"on")}var s,o,u=Z+"Slideshow_",a="click."+Z;return function(){s?B.slideshow||(ut.unbind(it,i),i()):B.slideshow&&T[1]&&(s=!0,ut.one(it,i),B.slideshowAuto?n():r(),M.show())}}();e.colorbox||(e(p),J=e.fn[Y]=e[Y]=function(t,n){var r=this;if(t=t||{},p(),d()){if(e.isFunction(r))r=e("<a/>"),t.open=!0;else if(!r[0])return r;n&&(t.onComplete=n),r.each(function(){e.data(this,Y,e.extend({},e.data(this,Y)||G,t))}).addClass(et),(e.isFunction(t.open)&&t.open.call(r)||t.open)&&h(r[0])}return r},J.position=function(t,n){function r(){w[0].style.width=x[0].style.width=b[0].style.width=parseInt(g[0].style.width,10)-F+"px",b[0].style.height=E[0].style.height=S[0].style.height=parseInt(g[0].style.height,10)-j+"px"}var s,u,a,f=0,l=0,c=g.offset();if(N.unbind("resize."+Z),g.css({top:-9e4,left:-9e4}),u=N.scrollTop(),a=N.scrollLeft(),B.fixed?(c.top-=u,c.left-=a,g.css({position:"fixed"})):(f=u,l=a,g.css({position:"absolute"})),l+=B.right!==!1?Math.max(N.width()-B.w-q-F-o(B.right,"x"),0):B.left!==!1?o(B.left,"x"):Math.round(Math.max(N.width()-B.w-q-F,0)/2),f+=B.bottom!==!1?Math.max(i()-B.h-I-j-o(B.bottom,"y"),0):B.top!==!1?o(B.top,"y"):Math.round(Math.max(i()-B.h-I-j,0)/2),g.css({top:c.top,left:c.left,visibility:"visible"}),y[0].style.width=y[0].style.height="9999px",s={width:B.w+q+F,height:B.h+I+j,top:f,left:l},t){var h=0;e.each(s,function(e){return s[e]!==lt[e]?(h=t,void 0):void 0}),t=h}lt=s,t||g.css(s),g.dequeue().animate(s,{duration:t||0,complete:function(){r(),X=!1,y[0].style.width=B.w+q+F+"px",y[0].style.height=B.h+I+j+"px",B.reposition&&setTimeout(function(){N.bind("resize."+Z,J.position)},1),n&&n()},step:r})},J.resize=function(e){var t;W&&(e=e||{},e.width&&(B.w=o(e.width,"x")-q-F),e.innerWidth&&(B.w=o(e.innerWidth,"x")),C.css({width:B.w}),e.height&&(B.h=o(e.height,"y")-I-j),e.innerHeight&&(B.h=o(e.innerHeight,"y")),e.innerHeight||e.height||(t=C.scrollTop(),C.css({height:"auto"}),B.h=C.height()),C.css({height:B.h}),t&&C.scrollTop(t),J.position("none"===B.transition?0:B.speed))},J.prep=function(n){function i(){return B.w=B.w||C.width(),B.w=B.mw&&B.mw<B.w?B.mw:B.w,B.w}function o(){return B.h=B.h||C.height(),B.h=B.mh&&B.mh<B.h?B.mh:B.h,B.h}if(W){var f,l="none"===B.transition?0:B.speed;C.empty().remove(),C=r(at,"LoadedContent").append(n),C.hide().appendTo(k.show()).css({width:i(),overflow:B.scrolling?"auto":"hidden"}).css({height:o()}).prependTo(b),k.hide(),e(z).css({"float":"none"}),f=function(){function n(){e.support.opacity===!1&&g[0].style.removeAttribute("filter")}var i,o,f=T.length,h="frameBorder",p="allowTransparency";W&&(o=function(){clearTimeout($),L.hide(),c(rt,B.onComplete)},A.html(B.title).add(C).show(),f>1?("string"==typeof B.current&&O.html(B.current.replace("{current}",U+1).replace("{total}",f)).show(),_[B.loop||f-1>U?"show":"hide"]().html(B.next),D[B.loop||U?"show":"hide"]().html(B.previous),ct(),B.preloading&&e.each([s(-1),s(1)],function(){var n,r,i=T[this],s=e.data(i,Y);s&&s.href?(n=s.href,e.isFunction(n)&&(n=n.call(i))):n=e(i).attr("href"),n&&u(s,n)&&(n=a(s,n),r=t.createElement("img"),r.src=n)})):H.hide(),B.iframe?(i=r("iframe")[0],h in i&&(i[h]=0),p in i&&(i[p]="true"),B.scrolling||(i.scrolling="no"),e(i).attr({src:B.href,name:(new Date).getTime(),"class":Z+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",o).appendTo(C),ut.one(ot,function(){i.src="//about:blank"}),B.fastIframe&&e(i).trigger("load")):o(),"fade"===B.transition?g.fadeTo(l,1,n):n())},"fade"===B.transition?g.fadeTo(l,0,function(){J.position(0,f)}):J.position(l,f)}},J.next=function(){!X&&T[1]&&(B.loop||T[U+1])&&(U=s(1),h(T[U]))},J.prev=function(){!X&&T[1]&&(B.loop||U)&&(U=s(-1),h(T[U]))},J.close=function(){W&&!V&&(V=!0,W=!1,c(it,B.onCleanup),N.unbind("."+Z),m.fadeTo(B.fadeOut||0,0),g.stop().fadeTo(B.fadeOut||0,0,function(){g.add(m).css({opacity:1,cursor:"auto"}).hide(),c(ot),C.empty().remove(),setTimeout(function(){V=!1,c(st,B.onClosed)},1)}))},J.remove=function(){g&&(g.stop(),e.colorbox.close(),g.stop().remove(),m.remove(),V=!1,g=null,e("."+et).removeData(Y).removeClass(et),e(t).unbind("click."+Z))},J.element=function(){return e(R)},J.settings=G)})(jQuery,document,window);